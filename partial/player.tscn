[gd_scene load_steps=18 format=3 uid="uid://c3gitjraydm0r"]

[ext_resource type="Script" path="res://scripts/Player.gd" id="1_jv72v"]
[ext_resource type="Texture2D" uid="uid://cmlclxwc6s1i4" path="res://images/tail.png" id="2_c0pe5"]
[ext_resource type="Script" path="res://scripts/Tail.gd" id="2_tm25d"]
[ext_resource type="Texture2D" uid="uid://dxtk33c33hk21" path="res://images/Ricket.png" id="3_2d01p"]
[ext_resource type="Texture2D" uid="uid://dtbllcvmbwu1o" path="res://images/shotgun big.png" id="3_nxpwl"]
[ext_resource type="Texture2D" uid="uid://bixo73xoquuhw" path="res://images/superbounce.png" id="7_xcnh2"]

[sub_resource type="Curve" id="Curve_i3w8k"]
_data = [Vector2(0, 0.384615), 0.0, 0.0, 0, 0, Vector2(0.565041, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), -2.52889, 0.0, 0, 0]
point_count = 3

[sub_resource type="AtlasTexture" id="AtlasTexture_tao8a"]
atlas = ExtResource("3_2d01p")
region = Rect2(384, 0, 64, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_ja4yv"]
atlas = ExtResource("3_2d01p")
region = Rect2(0, 0, 64, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_lnn86"]
atlas = ExtResource("3_2d01p")
region = Rect2(64, 0, 64, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_s043v"]
atlas = ExtResource("3_2d01p")
region = Rect2(128, 0, 64, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_wy624"]
atlas = ExtResource("3_2d01p")
region = Rect2(192, 0, 64, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_cndss"]
atlas = ExtResource("3_2d01p")
region = Rect2(256, 0, 64, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_chs63"]
atlas = ExtResource("3_2d01p")
region = Rect2(320, 0, 64, 80)

[sub_resource type="SpriteFrames" id="SpriteFrames_qbg1k"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_tao8a")
}],
"loop": true,
"name": &"air",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ja4yv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lnn86")
}],
"loop": true,
"name": &"default",
"speed": 2.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_s043v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wy624")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cndss")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_chs63")
}],
"loop": true,
"name": &"run",
"speed": 10.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_m8tgq"]
size = Vector2(41, 74)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ewseq"]
size = Vector2(22, 34)

[node name="Player" type="CharacterBody2D" groups=["Player"]]
position = Vector2(320, 180)
collision_layer = 2
script = ExtResource("1_jv72v")
move_speed = 300.0
acceleration = 3000.0
jump_height = 100.0
jump_time = 0.25
gun_horizontal_launch_speed = 1000.0
gun_horizontal_launch_vertical_boost_speed = 500.0
gun_vertical_launch_speed = 800.0
bullet_speed = 600.0
bullet_spread = 7.0

[node name="Tail" type="Line2D" parent="."]
position = Vector2(0, 12)
points = PackedVector2Array(0, 0, -13, 2, -25, 6, -37, 6, -49, 3, -60, 0)
width = 16.0
width_curve = SubResource("Curve_i3w8k")
texture = ExtResource("2_c0pe5")
texture_mode = 2
script = ExtResource("2_tm25d")

[node name="Appearance" type="Node2D" parent="."]

[node name="RicketSprite" type="AnimatedSprite2D" parent="Appearance"]
sprite_frames = SubResource("SpriteFrames_qbg1k")
animation = &"air"
autoplay = "default"

[node name="ShotgunSprite" type="Sprite2D" parent="Appearance"]
position = Vector2(0, 4)
texture = ExtResource("3_nxpwl")
offset = Vector2(8, 0)

[node name="Superbounce" type="Sprite2D" parent="Appearance/ShotgunSprite"]
visible = false
position = Vector2(28, -5)
texture = ExtResource("7_xcnh2")

[node name="BounceRaycast" type="RayCast2D" parent="."]
position = Vector2(0, 30)
target_position = Vector2(0, 24)
collision_mask = 8

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(4.5, 3)
shape = SubResource("RectangleShape2D_m8tgq")

[node name="ReloadTimer" type="Timer" parent="."]
wait_time = 0.4
one_shot = true

[node name="HazardDetector" type="Area2D" parent="."]
visible = false
collision_layer = 0
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="HazardDetector"]
shape = SubResource("RectangleShape2D_ewseq")

[connection signal="timeout" from="ReloadTimer" to="." method="reload_shotgun"]
[connection signal="body_entered" from="HazardDetector" to="." method="_on_hazard_detector_body_entered"]
